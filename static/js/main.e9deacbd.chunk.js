(this["webpackJsonpeve-raiders-data"]=this["webpackJsonpeve-raiders-data"]||[]).push([[0],{101:function(e,a,t){e.exports=t(140)},106:function(e,a,t){},139:function(e,a,t){},140:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(90),l=t.n(c),o=(t(106),t(31)),s=t(91),i=t.n(s).a.create({baseURL:"https://everaiders.azurewebsites.net/",timeout:3e4}),u=function(){return i.get("/api/Planets/resources/types")},m=function(){return i.get("/api/Planets/resources/richnesstypes")},d=t(78),p=t(27),b=t(10),_=t.n(b),h=t(92),f=t.n(h),g=function(e){var a=e.className,t=e.type,n=void 0===t?"button":t,c=e.children,l=Object(p.a)(e,["className","type","children"]);return r.a.createElement("button",Object.assign({className:_()(a,f.a.button),type:n},l),c)},v=t(54),E=t(18),N=t(69),j=t.n(N),O=r.a.forwardRef((function(e,a){var t=e.className,c=e.label,l=e.name,s=e.active,i=e.children,u=Object(p.a)(e,["className","label","name","active","children"]),m=Object(n.useState)(!1),d=Object(o.a)(m,2),b=d[0],h=d[1],f=Object(n.useRef)();return Object(n.useEffect)((function(){return f.current&&(f.current.addEventListener("focus",(function(){h(!0)})),f.current.addEventListener("blur",(function(){h(!1)}))),h}),[]),r.a.createElement("div",Object.assign({ref:a,className:_()(t,j.a.inputWrapper,Object(E.a)({},j.a.active,b||s)),onClick:function(){f.current.focus()}},u),r.a.createElement("label",{className:j.a.label,htmlFor:l},c),i(f))})),y=t(95),x=t.n(y),S=function(e){var a=e.className,t=e.label,n=e.onChange,c=Object(p.a)(e,["className","label","onChange"]);return r.a.createElement(O,{className:a,label:t,name:c.name},(function(e){return r.a.createElement("input",Object.assign({ref:e,className:x.a.input,onChange:function(e){return n(e.currentTarget.value)},spellCheck:"false"},c))}))},I=t(64),C=t(32),w=t.n(C),R=t(43),B=function(e){var a=e.className,t=e.label,c=e.items,l=e.name,s=e.placeholder,i=e.value,u=e.onChange,m=Object(n.useState)(c),d=Object(o.a)(m,2),p=d[0],b=d[1],h=Object(I.a)({items:p,selectedItem:i,onSelectedItemChange:function(e){var a=e.selectedItem;u(a)},onInputValueChange:function(e){var a=e.inputValue;b(c.filter((function(e){return e.toLowerCase().startsWith(a.toLowerCase())})))}}),f=h.isOpen,g=(h.selectedItem,h.setInputValue,h.closeMenu,h.getMenuProps),v=h.getInputProps,N=h.getToggleButtonProps,j=h.getComboboxProps,y=h.highlightedIndex,x=h.getItemProps;return Object(n.useEffect)((function(){b(c)}),[c]),r.a.createElement("div",{className:a},r.a.createElement(O,{label:t,name:l},(function(e){return r.a.createElement("div",Object.assign({className:w.a.combobox},j()),r.a.createElement("input",Object.assign({className:w.a.input,spellCheck:"false"},v({name:l,placeholder:s,ref:e}))),r.a.createElement("div",Object.assign({className:w.a.dropdownIcon},N({onClick:function(){return b(c)}})),r.a.createElement(R.b,{size:16})))})),r.a.createElement("ul",Object.assign({},g(),{className:_()(w.a.menu,Object(E.a)({},w.a.open,f))}),f&&p.map((function(e,a){return r.a.createElement("li",Object.assign({className:_()(w.a.item,Object(E.a)({},w.a.highlighted,y===a)),key:"".concat(e).concat(a)},x({item:e,index:a})),e)}))))},T=t(22),k=t.n(T),P=function(e){var a=e.className,t=e.label,n=e.items,c=e.name,l=e.placeholder,o=e.value,s=e.onChange,i=Object(I.b)({items:n,selectedItem:o,onSelectedItemChange:function(e){var a=e.selectedItem;s(a)}}),u=i.isOpen,m=i.selectedItem,d=i.getToggleButtonProps,p=i.getMenuProps,b=i.highlightedIndex,h=i.getItemProps;return r.a.createElement("div",{className:a},r.a.createElement(O,Object.assign({className:k.a.inputWrapper,active:u,label:t,name:c},d()),(function(e){return r.a.createElement("button",{ref:e,className:k.a.input,type:"button"},m||r.a.createElement("span",{className:k.a.placeholder},l),r.a.createElement(R.b,{className:k.a.dropdownIcon,size:16}))})),r.a.createElement("ul",Object.assign({},p(),{className:_()(k.a.menu,Object(E.a)({},k.a.open,u))}),u&&n.map((function(e,a){return r.a.createElement("li",Object.assign({className:_()(k.a.item,Object(E.a)({},k.a.highlighted,b===a)),key:"".concat(e).concat(a)},h({item:e,index:a})),e)}))))},M=t(96),W=t.n(M),A=t(48),F=t.n(A),H={select:P,combobox:B,"*":S},L=function(e){var a=e.config,t=e.onSubmit,c=e.loading,l=Object(n.useMemo)((function(){return a.fields.reduce((function(e,a){return e[a.name]=a.initialValue||"",e}),{})}),[a]);return r.a.createElement(v.d,{validationSchema:a.validation,initialValues:l,onSubmit:t},(function(e){var t=e.setFieldValue;return r.a.createElement(v.c,{className:_()(F.a.form,a.className)},a.fields.map((function(e){var a=e.className,n=e.name,c=e.label,l=e.type,o=Object(p.a)(e,["className","name","label","type"]);return r.a.createElement("div",{className:_()(F.a.field,a),key:n},r.a.createElement(v.b,{name:n},(function(e){var a=e.field,s=H[l]||H["*"];return r.a.createElement(s,Object.assign({key:n,label:c,type:l},a,o,{onChange:function(e){return t(n,e)}}))})),r.a.createElement(v.a,{name:n},(function(e){return r.a.createElement("div",{className:F.a.error},r.a.createElement(R.a,null)," ",e)})))})),r.a.createElement(g,{className:F.a.submitBtn,type:"submit",disabled:c},r.a.createElement("span",{style:{visibility:c?"hidden":"visible"}},"Search"),c&&r.a.createElement("div",{className:F.a.loader,style:{position:"absolute",top:10,left:"calc(50% - 10px)"}},r.a.createElement(W.a,{size:20,color:getComputedStyle(document.documentElement).getPropertyValue("--color-text-white")}))))}))},D=t(76),V=t(71),q=t(52),J=t.n(q),z=V.a().shape({resourceType:V.b().required("Resource Type is required"),richness:V.b().required("Richness is required")}),Z=function(e){var a=e.onSubmit,t=e.loading,c=Object(D.a)("resourceTypes",u),l=c.loading,o=c.error,s=c.data,i=Object(D.a)("richnessTypes",m),p=i.loading,b=i.error,_=i.data,h=Object(n.useMemo)((function(){return s?s.data:[]}),[s]),f=Object(n.useMemo)((function(){return Object(d.a)(h.map((function(e){return e.replace(/([A-Z])/g," $1").trim()})))}),[h]),g=Object(n.useMemo)((function(){return _?_.data:[]}),[_]),v=Object(n.useMemo)((function(){return Object(d.a)(g.map((function(e){return e.replace(/([A-Z])/g," $1").trim()})))}),[g]);if(l||p)return"Loading...";if(o||b)return"An error has occurred: "+(null===o||void 0===o?void 0:o.message)||!1;var E={validation:z,className:J.a.resourceSearchForm,fields:[{name:"resourceType",label:"Resource Type",placeholder:"resource type",type:"combobox",items:f,className:J.a.resourceType},{name:"richness",label:"Richness",placeholder:"Select a richness",items:v,type:"select",className:J.a.richness}]};return r.a.createElement("div",{className:J.a.resourceSearch},r.a.createElement("h1",null,"Find Resources"),r.a.createElement(L,{config:E,onSubmit:a,loading:t}))},K=t(98),U=t(23),X=t.n(U),$=function(e){var a=e.data,t=e.columns,n=e.placeholder,c=Object(K.useTable)({columns:t,data:a}),l=c.getTableProps,o=c.getTableBodyProps,s=c.headerGroups,i=c.rows,u=c.prepareRow;return r.a.createElement("div",{className:X.a.tableWrapper},r.a.createElement("table",Object.assign({className:X.a.table},l()),r.a.createElement("thead",{className:X.a.headers},s.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",Object.assign({className:X.a.headerCell,style:e.style||{}},e.getHeaderProps()),e.render("Header"))})))}))),r.a.createElement("tbody",Object.assign({className:X.a.body},o()),i.map((function(e,a){return u(e),r.a.createElement("tr",Object.assign({className:X.a.row},e.getRowProps()),e.cells.map((function(e){return r.a.createElement("td",Object.assign({className:X.a.cell,style:e.column.style||{}},e.getCellProps()),e.render("Cell"))})))})))),0===i.length&&r.a.createElement("div",{className:X.a.placeholder},n))},G=t(99),Q=t(53),Y=t.n(Q),ee=function(e){var a=e.selected,t=e.onClick,n=e.logo,c=e.label;return r.a.createElement("div",{className:_()(Y.a.navItem,Object(E.a)({},Y.a.active,a)),onClick:function(){return t()}},r.a.createElement("div",{className:Y.a.logo},r.a.createElement(n,null)),r.a.createElement("div",{className:Y.a.label},c))},ae=t(77),te=t.n(ae),ne=[{name:"resource-search",label:"Resource Search",logo:G.a}],re=function(e){var a=e.route,t=e.setRoute;return r.a.createElement("div",{className:te.a.navBar},r.a.createElement("img",{className:te.a.logo,src:"".concat("/eve-raiders-data","/logo.png"),alt:"raiders logo"}),ne.map((function(e){return r.a.createElement(ee,{key:e.name,selected:a===e.name,onClick:function(){return t(e.name)},logo:e.logo,label:e.label})})))},ce=t(70),le=t.n(ce),oe=function(){var e=Object(n.useState)("resource-search"),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),b=p[0],_=p[1],h=Object(n.useMemo)((function(){return[{Header:"Jumps",accessor:"distanceFromBase",style:{textAlign:"right"}},{Header:"Planet Name",accessor:"planetName",style:{textAlign:"left"}},{Header:"Resource Type",accessor:"resourceType",Cell:function(e){return e.value.replace(/([A-Z])/g," $1").trim()},style:{textAlign:"left"}},{Header:"Richness",accessor:"richness",style:{textAlign:"left"}}]}),[]);return r.a.createElement("div",{className:le.a.dashboard},r.a.createElement("div",{className:le.a.results},r.a.createElement($,{data:u,columns:h,placeholder:"No data for selected filters"})),r.a.createElement("header",{className:le.a.header},r.a.createElement(Z,{onSubmit:function(e){_(!0),function(e){var a=e.resourceType,t=e.richness;return i.get("/api/Planets/resources/".concat(a.replace(/\s+/g,""),"/").concat(t))}(e).then((function(e){var a=e.data;m(a),_(!1)}))},loading:b})),r.a.createElement(re,{route:t,setRoute:c}))},se=t(100);t(139);var ie=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(se.ReactQueryDevtools,{initialIsOpen:!1}),r.a.createElement(oe,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},22:function(e,a,t){e.exports={combobox:"Select_combobox__2fVaR",inputWrapper:"Select_inputWrapper__2jpws",input:"Select_input__3xpvd",dropdownIcon:"Select_dropdownIcon__Emqpy",menu:"Select_menu__3w-dz",open:"Select_open__gibbM",item:"Select_item__3YpSq",highlighted:"Select_highlighted__cGxYx",placeholder:"Select_placeholder__VZlSA"}},23:function(e,a,t){e.exports={tableWrapper:"Table_tableWrapper__tZooT",table:"Table_table__2OuB7",headers:"Table_headers__M46s0",headerCell:"Table_headerCell__1nTkK",body:"Table_body__3kRrD",cell:"Table_cell__2s5cE",placeholder:"Table_placeholder__3cRb7"}},32:function(e,a,t){e.exports={combobox:"ComboBox_combobox__vKPv6",input:"ComboBox_input__32-1j",menu:"ComboBox_menu__1H2fX",open:"ComboBox_open__2oJ2D",dropdownIcon:"ComboBox_dropdownIcon__2yDOs",item:"ComboBox_item__1aND1",highlighted:"ComboBox_highlighted__dIQ44"}},48:function(e,a,t){e.exports={form:"FormRenderer_form__1oXro",field:"FormRenderer_field__2ebEy",error:"FormRenderer_error__3EXkk"}},52:function(e,a,t){e.exports={resourceSearch:"ResourceSearch_resourceSearch__34jlA",resourceSearchForm:"ResourceSearch_resourceSearchForm__280Hw",resourceType:"ResourceSearch_resourceType__1elrh",richness:"ResourceSearch_richness__L3K6U"}},53:function(e,a,t){e.exports={navItem:"NavItem_navItem__Mxr-P",hover:"NavItem_hover__2jylu",active:"NavItem_active__BRtlX",label:"NavItem_label__NjeuJ"}},69:function(e,a,t){e.exports={inputWrapper:"BaseInput_inputWrapper__1QLek",hover:"BaseInput_hover__fgPLf",active:"BaseInput_active__3J2K6",label:"BaseInput_label__ljkWO"}},70:function(e,a,t){e.exports={dashboard:"Dashboard_dashboard__1wLSR",header:"Dashboard_header__3c0hx",results:"Dashboard_results__1w2qx"}},77:function(e,a,t){e.exports={navBar:"NavBar_navBar__cg89M",logo:"NavBar_logo__1hftJ"}},92:function(e,a,t){e.exports={button:"Button_button__3Dwi5",hover:"Button_hover__2_H-W",active:"Button_active__19R-U"}},95:function(e,a,t){e.exports={input:"Input_input__1NUtq"}}},[[101,1,2]]]);
//# sourceMappingURL=main.e9deacbd.chunk.js.map