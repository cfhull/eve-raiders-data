(this["webpackJsonpeve-raiders-data"]=this["webpackJsonpeve-raiders-data"]||[]).push([[0],{100:function(e,a,t){e.exports=t(139)},105:function(e,a,t){},13:function(e,a,t){e.exports={planetSearch:"PlanetSearch_planetSearch__2Uin_",header:"PlanetSearch_header__1_lkO",title:"PlanetSearch_title__3FS93",results:"PlanetSearch_results__1b51p",fields:"PlanetSearch_fields__1NC1l",field:"PlanetSearch_field__2xfAb",submitBtn:"PlanetSearch_submitBtn__1USwL",error:"PlanetSearch_error__15qPV"}},138:function(e,a,t){},139:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(87),c=t.n(l),o=(t(105),t(12)),s=t(88),i=t(25),u=t.n(i),m=function(e){var a=e.data,t=e.columns,n=e.placeholder,l=Object(s.useTable)({columns:t,data:a}),c=l.getTableProps,o=l.getTableBodyProps,i=l.headerGroups,m=l.rows,d=l.prepareRow;return r.a.createElement("div",{className:u.a.tableWrapper},r.a.createElement("table",Object.assign({className:u.a.table},c()),r.a.createElement("thead",{className:u.a.headers},i.map((function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map((function(e){return r.a.createElement("th",Object.assign({className:u.a.headerCell,style:e.style||{}},e.getHeaderProps()),e.render("Header"))})))}))),r.a.createElement("tbody",Object.assign({className:u.a.body},o()),m.map((function(e,a){return d(e),r.a.createElement("tr",Object.assign({className:u.a.row},e.getRowProps()),e.cells.map((function(e){return r.a.createElement("td",Object.assign({className:u.a.cell,style:e.column.style||{}},e.getCellProps()),e.render("Cell"))})))})))),0===m.length&&r.a.createElement("div",{className:u.a.placeholder},n))},d=t(31),p=t(9),b=t.n(p),_=t(89),f=t.n(_),h=function(e){var a=e.className,t=e.type,n=void 0===t?"button":t,l=e.children,c=Object(d.a)(e,["className","type","children"]);return r.a.createElement("button",Object.assign({className:b()(a,f.a.button),type:n},c),l)},g=t(70),v=t(20),N=t(46),y=t(51),E=t.n(y),S=r.a.forwardRef((function(e,a){var t,l=e.className,c=e.label,s=e.name,i=e.active,u=e.error,m=e.children,p=Object(d.a)(e,["className","label","name","active","error","children"]),_=Object(n.useState)(!1),f=Object(o.a)(_,2),h=f[0],g=f[1],y=Object(n.useRef)();return Object(n.useEffect)((function(){return y.current&&(y.current.addEventListener("focus",(function(){g(!0)})),y.current.addEventListener("blur",(function(){g(!1)}))),g}),[]),r.a.createElement("div",Object.assign({ref:a,className:b()(l,E.a.inputWrapper,(t={},Object(v.a)(t,E.a.active,h||i),Object(v.a)(t,E.a.hasError,u),t)),onClick:function(){y.current.focus()}},p),r.a.createElement("label",{className:E.a.label,htmlFor:s},c),m(y),u&&r.a.createElement("div",{className:E.a.errorMsg},r.a.createElement(N.a,null)," ",u))})),j=t(92),O=t.n(j),x=function(e){var a=e.className,t=e.label,n=e.onChange,l=e.error,c=Object(d.a)(e,["className","label","onChange","error"]);return r.a.createElement(S,{className:a,label:t,name:c.name,error:l},(function(e){return r.a.createElement("input",Object.assign({ref:e,className:O.a.input,onChange:function(e){return n(e.currentTarget.value)},spellCheck:"false"},c))}))},C=t(65),R=t(35),B=t.n(R),T=function(e){var a=e.className,t=e.label,l=e.items,c=void 0===l?[]:l,s=e.name,i=e.placeholder,u=e.value,m=e.onChange,d=e.error,p=e.itemToString,_=void 0===p?function(e){return e}:p,f=Object(n.useState)(c),h=Object(o.a)(f,2),g=h[0],y=h[1],E=Object(C.a)({itemToString:function(e){return e?_(e):""},items:g,selectedItem:u,onSelectedItemChange:function(e){var a=e.selectedItem;m(a)},onInputValueChange:function(e){var a=e.inputValue;y(c.filter((function(e){return _(e).toLowerCase().startsWith(a.toLowerCase())})))}}),j=E.isOpen,O=E.getMenuProps,x=E.getInputProps,R=E.getToggleButtonProps,T=E.getComboboxProps,P=E.highlightedIndex,I=E.getItemProps;return r.a.createElement("div",{className:a},r.a.createElement(S,{label:t,name:s,error:d},(function(e){return r.a.createElement("div",Object.assign({className:B.a.combobox},T()),r.a.createElement("input",Object.assign({className:B.a.input,spellCheck:"false"},x({name:s,placeholder:i,ref:e}))),r.a.createElement("div",Object.assign({className:B.a.dropdownIcon},R({onClick:function(){return y(c)}})),r.a.createElement(N.b,{size:16})))})),r.a.createElement("ul",Object.assign({},O(),{className:b()(B.a.menu,Object(v.a)({},B.a.open,j))}),j&&g.map((function(e,a){return r.a.createElement("li",Object.assign({className:b()(B.a.item,Object(v.a)({},B.a.highlighted,P===a)),key:"".concat(_(e)).concat(a)},I({item:_(e),index:a})),_(e))}))))},P=t(27),I=t.n(P),w=function(e){var a=e.className,t=e.label,n=e.items,l=void 0===n?[]:n,c=e.name,o=e.placeholder,s=e.value,i=e.onChange,u=e.error,m=e.itemToString,d=void 0===m?function(e){return e}:m,p=Object(C.b)({itemToString:d,items:l,selectedItem:s,onSelectedItemChange:function(e){var a=e.selectedItem;i(a)}}),_=p.isOpen,f=p.selectedItem,h=p.getToggleButtonProps,g=p.getMenuProps,y=p.highlightedIndex,E=p.getItemProps;return r.a.createElement("div",{className:a},r.a.createElement(S,Object.assign({className:I.a.inputWrapper,active:_,label:t,name:c,error:u},h()),(function(e){return r.a.createElement("button",{ref:e,className:I.a.input,type:"button"},f||r.a.createElement("span",{className:I.a.placeholder},o),r.a.createElement(N.b,{className:I.a.dropdownIcon,size:16}))})),r.a.createElement("ul",Object.assign({},g(),{className:b()(I.a.menu,Object(v.a)({},I.a.open,_))}),_&&l.map((function(e,a){return r.a.createElement("li",Object.assign({className:b()(I.a.item,Object(v.a)({},I.a.highlighted,y===a)),key:"".concat(e).concat(a)},E({item:e,index:a})),e)}))))},k=t(93),A=t.n(k),M=t(52),H=t.n(M),F={select:w,combobox:T,"*":x},W=function(e){var a=e.config,t=e.onSubmit,l=e.loading,c=Object(n.useMemo)((function(){return a.fields.reduce((function(e,a){return e[a.name]=a.initialValue||"",e}),{})}),[a]);return r.a.createElement(g.c,{validationSchema:a.validation,initialValues:c,onSubmit:t},(function(e){var t=e.setFieldValue,n=e.errors,c=e.touched;return r.a.createElement(g.b,{className:b()(H.a.form,a.className)},r.a.createElement("div",{className:H.a.fields},a.fields.map((function(e){var a=e.className,l=e.name,o=e.type,s=Object(d.a)(e,["className","name","type"]);return r.a.createElement("div",{className:b()(H.a.field,a),key:l},r.a.createElement(g.a,{name:l},(function(e){var a=e.field,i=F[o]||F["*"];return r.a.createElement(i,Object.assign({key:l,type:o},a,s,{onChange:function(e){return t(l,e)},error:c[l]&&n[l]}))})))}))),r.a.createElement(h,{className:b()(H.a.submitBtn,a.btnClassName),type:"submit",disabled:l},r.a.createElement("span",{style:{visibility:l?"hidden":"visible"}},"Search"),l&&r.a.createElement("div",{className:H.a.loader,style:{position:"absolute",top:10,left:"calc(50% - 10px)"}},r.a.createElement(A.a,{size:20,color:getComputedStyle(document.documentElement).getPropertyValue("--color-text-white")}))))}))},L=t(94),q=t.n(L).a.create({baseURL:"https://everaiders.azurewebsites.net/",timeout:3e4}),V=function(){return q.get("/api/Planets/filters")},D=t(64),J=t(21),z=t(18),U=t.n(z),Z=J.a().shape({resourceType:J.b().required("Resource Type is required"),richness:J.b().required("Richness is required")}),G=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(),s=Object(o.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),b=p[0],_=p[1],f=Object(n.useMemo)((function(){return[{Header:"Jumps",accessor:"distanceFromBase",style:{textAlign:"right"}},{Header:"Planet Name",accessor:"planetName",style:{textAlign:"left"}},{Header:"Resource Type",accessor:"resourceType",Cell:function(e){return e.value.replace(/([A-Z])/g," $1").trim()},style:{textAlign:"left"}},{Header:"Richness",accessor:"richness",style:{textAlign:"left"}}]}),[]),h=Object(D.a)("filters",V),g=h.loading,v=h.error,N=h.data,y=Object(n.useMemo)((function(){return N?N.data:[]}),[N]),E=y.regions,S=void 0===E?[]:E,j=y.richness,O=void 0===j?[]:j,x=y.types,C=void 0===x?[]:x,R=Object(n.useMemo)((function(){return C.map((function(e){return e.replace(/([A-Z])/g," $1").trim()}))}),[C]);if(g)return"Loading...";if(v)return"An error has occurred: "+v.message;var B={validation:Z,className:U.a.resourceSearchForm,fieldsClassName:U.a.fields,btnClassName:U.a.submitBtn,fields:[{name:"resourceType",label:"Resource Type",placeholder:"resource type",type:"combobox",items:R,className:U.a.field},{name:"richness",label:"Richness",placeholder:"Select a richness",items:O,type:"select",className:U.a.field},{name:"region",label:"Region",placeholder:"Select a region",items:S,type:"combobox",itemToString:function(e){var a;return null!==(a=null===e||void 0===e?void 0:e.name)&&void 0!==a?a:""},className:U.a.field}]};return r.a.createElement("div",{className:U.a.resourceSearch},r.a.createElement("div",{className:U.a.results},i&&r.a.createElement("div",{className:U.a.error},"An error occured. Please try again."),r.a.createElement(m,{data:t,columns:f,placeholder:"No data for selected filters"})),r.a.createElement("header",{className:U.a.header},r.a.createElement("h1",{className:U.a.title},"Find Resources"),r.a.createElement(W,{config:B,onSubmit:function(e){_(!0),function(e){var a=e.resourceType,t=e.richness,n=e.region,r=(n=void 0===n?{}:n).id;n.name;return q.get("/api/Planets/resources/".concat(a.replace(/\s+/g,""),"/").concat(t),{params:{regionId:r}})}(e).then((function(e){var a=e.data;l(a)})).catch((function(e){u(e)})).finally((function(){return _(!1)}))},loading:b})))},K=t(13),Q=t.n(K),X=J.a().shape({region:J.b(),constellation:J.b(),system:J.b(),planetName:J.b(),planetType:J.b()}),Y=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(),s=Object(o.a)(c,2),i=s[0],u=s[1],d=Object(n.useState)(!1),p=Object(o.a)(d,2),b=p[0],_=p[1],f=Object(n.useMemo)((function(){return[{Header:"Jumps",accessor:"distanceFromBase",style:{textAlign:"right"}},{Header:"Constellation",accessor:"constellation",style:{textAlign:"left"}},{Header:"System",accessor:"system",style:{textAlign:"left"}},{Header:"Planet Name",accessor:"name",style:{textAlign:"left"}},{Header:"Planet Type",accessor:"type",style:{textAlign:"left"}},{id:"resourceType",Header:"Resource",accessor:function(e){return e.resources.map((function(e){return e.type})).join(", ")},Cell:function(e){return e.value.split(", ").map((function(e,a){return r.a.createElement("div",{key:a,style:{whiteSpace:"nowrap"}},e)}))}},{id:"resourceRichness",Header:"Richness",accessor:function(e){return e.resources.map((function(e){return e.richness})).join(", ")},Cell:function(e){return e.value.split(", ").map((function(e,a){return r.a.createElement("div",{key:a},e)}))}}]}),[]),h=Object(D.a)("filters",V),g=h.loading,v=h.error,N=h.data,y=Object(n.useMemo)((function(){return N?N.data:[]}),[N]),E=y.regions,S=void 0===E?[]:E,j=y.planetTypes,O=void 0===j?[]:j,x=y.constellations,C=void 0===x?[]:x;if(g)return"Loading...";if(v)return"An error has occurred: "+v.message;var R={validation:X,className:Q.a.planetSearchForm,btnClassName:Q.a.submitBtn,fieldsClassName:Q.a.fields,fields:[{name:"region",label:"Region",placeholder:"Select a region",items:S,type:"combobox",itemToString:function(e){var a;return null!==(a=null===e||void 0===e?void 0:e.name)&&void 0!==a?a:""},className:Q.a.field},{name:"constellation",label:"Constellation",placeholder:"Select a constellation",items:C,type:"combobox",itemToString:function(e){var a;return null!==(a=null===e||void 0===e?void 0:e.name)&&void 0!==a?a:""},className:Q.a.field},{name:"system",label:"System",placeholder:"Select a system",className:Q.a.field},{name:"planetName",label:"Planet Name",placeholder:"Select a planet name",className:Q.a.field},{name:"planetType",label:"Planet Type",placeholder:"Select a planet type",items:O,type:"select",className:Q.a.field}]};return r.a.createElement("div",{className:Q.a.planetSearch},r.a.createElement("div",{className:Q.a.results},i&&r.a.createElement("div",{className:Q.a.error},"An error occured. Please try again."),r.a.createElement(m,{data:t,columns:f,placeholder:"No data for selected filters"})),r.a.createElement("header",{className:Q.a.header},r.a.createElement("h1",{className:Q.a.title},"Find Planets"),r.a.createElement(W,{config:R,onSubmit:function(e){_(!0),function(e){var a=e.region,t=e.constellatin,n=e.system,r=e.planetName,l=e.planetType;return q.get("/api/planets",{params:{region:a.name,constellatin:t,system:n,planetName:r,planetType:l}})}(e).then((function(e){var a=e.data;l(a)})).catch((function(e){u(e)})).finally((function(){return _(!1)}))},loading:b})))},$=function(){return r.a.createElement("div",{style:{marginTop:20}},"Feature currently under development. Come back later!")},ee=t(96),ae=t(97),te=t(55),ne=t.n(te),re=function(e){var a=e.selected,t=e.onClick,n=e.logo,l=e.label;return r.a.createElement("div",{className:b()(ne.a.navItem,Object(v.a)({},ne.a.active,a)),onClick:function(){return t()}},r.a.createElement("div",{className:ne.a.logo},r.a.createElement(n,null)),r.a.createElement("div",{className:ne.a.label},l))},le=t(75),ce=t.n(le),oe=[{name:"resource-search",label:"Resource Search",logo:ee.a},{name:"planet-search",label:"Planet Search",logo:ae.a}],se=function(e){var a=e.route,t=e.setRoute;return r.a.createElement("div",{className:ce.a.navBar},r.a.createElement("img",{className:ce.a.logo,src:"".concat("/eve-raiders-data","/logo.png"),alt:"raiders logo"}),oe.map((function(e){return r.a.createElement(re,{key:e.name,selected:a===e.name,onClick:function(){return t(e.name)},logo:e.logo,label:e.label})})))},ie=t(98),ue=t.n(ie),me={"resource-search":G,"planet-search":Y,"*":$},de=function(){var e=Object(n.useState)("resource-search"),a=Object(o.a)(e,2),t=a[0],l=a[1],c=me[t]||me["*"];return r.a.createElement("div",{className:ue.a.dashboard},r.a.createElement(se,{route:t,setRoute:l}),r.a.createElement(c,null))},pe=t(99);t(138);var be=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(pe.ReactQueryDevtools,{initialIsOpen:!1}),r.a.createElement(de,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},18:function(e,a,t){e.exports={resourceSearch:"ResourceSearch_resourceSearch__34jlA",header:"ResourceSearch_header__iMR0J",title:"ResourceSearch_title__3vpvV",results:"ResourceSearch_results__1Efvc",fields:"ResourceSearch_fields__3TYrq",field:"ResourceSearch_field__3-D2_",submitBtn:"ResourceSearch_submitBtn__10FzD",error:"ResourceSearch_error__3Wevm"}},25:function(e,a,t){e.exports={tableWrapper:"Table_tableWrapper__tZooT",table:"Table_table__2OuB7",headers:"Table_headers__M46s0",headerCell:"Table_headerCell__1nTkK",body:"Table_body__3kRrD",cell:"Table_cell__2s5cE",placeholder:"Table_placeholder__3cRb7"}},27:function(e,a,t){e.exports={combobox:"Select_combobox__2fVaR",inputWrapper:"Select_inputWrapper__2jpws",input:"Select_input__3xpvd",dropdownIcon:"Select_dropdownIcon__Emqpy",menu:"Select_menu__3w-dz",open:"Select_open__gibbM",item:"Select_item__3YpSq",highlighted:"Select_highlighted__cGxYx",placeholder:"Select_placeholder__VZlSA"}},35:function(e,a,t){e.exports={combobox:"ComboBox_combobox__vKPv6",input:"ComboBox_input__32-1j",menu:"ComboBox_menu__1H2fX",open:"ComboBox_open__2oJ2D",dropdownIcon:"ComboBox_dropdownIcon__2yDOs",item:"ComboBox_item__1aND1",highlighted:"ComboBox_highlighted__dIQ44"}},51:function(e,a,t){e.exports={inputWrapper:"BaseInput_inputWrapper__1QLek",hover:"BaseInput_hover__fgPLf",active:"BaseInput_active__3J2K6",hasError:"BaseInput_hasError__3pmgN",label:"BaseInput_label__ljkWO",errorMsg:"BaseInput_errorMsg__22kZB"}},52:function(e,a,t){e.exports={form:"FormRenderer_form__1oXro",fields:"FormRenderer_fields__2lqRx",submitBtn:"FormRenderer_submitBtn__d73n2",field:"FormRenderer_field__2ebEy"}},55:function(e,a,t){e.exports={navItem:"NavItem_navItem__Mxr-P",hover:"NavItem_hover__2jylu",active:"NavItem_active__BRtlX",label:"NavItem_label__NjeuJ"}},75:function(e,a,t){e.exports={navBar:"NavBar_navBar__cg89M",logo:"NavBar_logo__1hftJ"}},89:function(e,a,t){e.exports={button:"Button_button__3Dwi5",hover:"Button_hover__2_H-W",active:"Button_active__19R-U"}},92:function(e,a,t){e.exports={input:"Input_input__1NUtq"}},98:function(e,a,t){e.exports={dashboard:"Dashboard_dashboard__1wLSR"}}},[[100,1,2]]]);
//# sourceMappingURL=main.8a1d8f82.chunk.js.map